<!doctype html>
<html lang="pt-br">
	<head>
		<meta charset="utf-8" />
		<title>Codes</title>
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/window.css" />
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
        <script type="text/javascript" src="js/mousewheel.js"></script>
        <script type="text/javascript">
            $(function(){
                var topAtual = 0;
                var pageAtual = 0;
                var elemento = $('#pages');
                var total = $('.page').size();
                var rolar = true;
                console.log(total);
                setInterval(function(){update()}, 1500);
                function update(){
                    if(rolar == true){
                        if(pageAtual == (total - 1)){
                            elemento.stop(true,true).animate({'margin-top': 0}, 200);
                            topAtual = 0;
                            pageAtual = 0;
                        }
                        else{
                            var altura = parseInt($('.page:eq('+pageAtual+')').css('height'));
                            topAtual = topAtual - altura - 20;
                            elemento.stop(true,true).animate({'margin-top': topAtual}, 200);
                            pageAtual++;
                        }
                    }
                }
                $('#window').mouseenter(function(){
                    rolar = false;
                }).mouseleave(function(){
                    rolar = true;
                }).mousewheel(function(event, delta){
                    // (delta == 1) ? subir : descer
                    if(delta == 1){
                        if(pageAtual != 0){
                            altura = parseInt($('.page:eq('+(pageAtual-1)+')').css('height'));
                            topAtual = topAtual + altura + 20;
                            elemento.stop(true, true).animate({'margin-top': topAtual}, 200);
                            pageAtual--;
                        }
                    }
                    else{
                        rolar = true;
                        update();
                        rolar = false;
                    }
                });
            });
        </script>
	</head>
	<body>
		<div id="container">
			<h1>Codes</h1>
			<section id="board">
				<h2>Window</h2>
				
				<div id="window">
					<div id="pages">
						<div class="page">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas aliquet commodo elit, id imperdiet nulla sollicitudin malesuada. Vestibulum dignissim felis interdum tellus mollis malesuada eu eu velit.</div>
						<div class="page">ondimentum neque massa ac risus. Suspendisse dignissim, risus a feugiat vestibulum, nunc ipsum egestas nunc, sed accumsan massa dolor ut ipsum. Donec lectus mi, sollicitudin non posuere euismod, aliquam eu nulla. Fusce cursus leo sed lectus semper imperdiet. Fusce in dolor diam, pulvinar egestas elit. Quisque fringilla risus nec nisl ultrices laoreet. Quisque tempor est eget nibh semper vitae lobortis libero pharetra. Morbi suscipit nibh nec purus malesuada porttitor. Vivamus non risus sem. Nulla nec</div>
						<div class="page">enean dui ipsum, auctor vestibulum lacinia in, mollis ut sapien. Donec arcu sem, malesuada malesuada gravida sit amet, placerat a leo. Nunc a</div>
						<div class="page">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas aliquet commodo elit, id imperdiet nulla sollicitudin malesuada. Vestibulum dignissim felis interdum tellus mollis malesuada eu eu velit.</div>
						<div class="page">ondimentum neque massa ac risus. Suspendisse dignissim, risus a feugiat vestibulum, nunc ipsum egestas nunc, sed accumsan massa dolor ut ipsum. Donec lectus mi, sollicitudin non posuere euismod, aliquam eu nulla. Fusce cursus leo sed lectus semper imperdiet. Fusce in dolor diam, pulvinar egestas elit. Quisque fringilla risus nec nisl ultrices laoreet. Quisque tempor est eget nibh semper vitae lobortis libero pharetra. Morbi suscipit nibh nec purus malesuada porttitor. Vivamus non risus sem. Nulla nec</div>
						<div class="page">enean dui ipsum, auctor vestibulum lacinia in, mollis ut sapien. Donec arcu sem, malesuada malesuada gravida sit amet, placerat a leo. Nunc a</div>
						<div class="page">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas aliquet commodo elit, id imperdiet nulla sollicitudin malesuada. Vestibulum dignissim felis interdum tellus mollis malesuada eu eu velit.</div>
						<div class="page">ondimentum neque massa ac risus. Suspendisse dignissim, risus a feugiat vestibulum, nunc ipsum egestas nunc, sed accumsan massa dolor ut ipsum. Donec lectus mi, sollicitudin non posuere euismod, aliquam eu nulla. Fusce cursus leo sed lectus semper imperdiet. Fusce in dolor diam, pulvinar egestas elit. Quisque fringilla risus nec nisl ultrices laoreet. Quisque tempor est eget nibh semper vitae lobortis libero pharetra. Morbi suscipit nibh nec purus malesuada porttitor. Vivamus non risus sem. Nulla nec</div>
						<div class="page">enean dui ipsum, auctor vestibulum lacinia in, mollis ut sapien. Donec arcu sem, malesuada malesuada gravida sit amet, placerat a leo. Nunc a</div>
						<div class="page">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas aliquet commodo elit, id imperdiet nulla sollicitudin malesuada. Vestibulum dignissim felis interdum tellus mollis malesuada eu eu velit.</div>
						<div class="page">ondimentum neque massa ac risus. Suspendisse dignissim, risus a feugiat vestibulum, nunc ipsum egestas nunc, sed accumsan massa dolor ut ipsum. Donec lectus mi, sollicitudin non posuere euismod, aliquam eu nulla. Fusce cursus leo sed lectus semper imperdiet. Fusce in dolor diam, pulvinar egestas elit. Quisque fringilla risus nec nisl ultrices laoreet. Quisque tempor est eget nibh semper vitae lobortis libero pharetra. Morbi suscipit nibh nec purus malesuada porttitor. Vivamus non risus sem. Nulla nec</div>
						<div class="page">enean dui ipsum, auctor vestibulum lacinia in, mollis ut sapien. Donec arcu sem, malesuada malesuada gravida sit amet, placerat a leo. Nunc a</div>
						<div class="page">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas aliquet commodo elit, id imperdiet nulla sollicitudin malesuada. Vestibulum dignissim felis interdum tellus mollis malesuada eu eu velit.</div>
					</div>
				</div>
			</section>
		</div>
	</body>
</html>